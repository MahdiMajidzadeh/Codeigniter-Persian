<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Persian
{
	protected $ci;

	public function __construct()
	{
		$this->ci =& get_instance();
	}

	public function numbers($numbers)
	{
		$numbers = $this->numbers_ar($numbers);
		$numbers = $this->numbers_en($numbers);

		return $numbers;
	}

	public function numbers_ar($numbers)
	{
		$find    = array('Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©');
		$replace = array('Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹');

		return (string) str_replace($find,$replace,$numbers);
	}

	public function numbers_en($numbers)
	{
		$find    = array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9');
		$replace = array('Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹');

		return (string) str_replace($find,$replace,$numbers);
	}

	public function numbers_to_english($numbers)
	{
		$find    = array('Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©');
		$replace = array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9');

		$numbers = str_replace($find,$replace,$numbers);

		$find    = array('Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹');
		$replace = array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9');

		return (string) str_replace($find,$replace,$numbers);
	}

	public function text($text)
	{

		$from = array(
			// collection 1
			array('Ø†','Ø‡','Øˆ','Ø‰','ØŠ','Ø','Ø','Ø','Ø‘','Ø’','Ø“','Ø”','Ø•','Ø–','Ø˜','Ø™','Øš','Ø','Ù–','Ù—','Ù˜','Ù™','Ùš','Ù›','Ùœ','Ù','Ù','ÙŸ','Ùª','Ù¬','Ù­','Û','Û‚','Ûƒ','Û”','Û–','Û—','Û˜','Û™','Ûš','Û›','Ûœ','Û','ÛŸ','Û ','Û¡','Û¢','Û£','Û¤','Û¥','Û¦','Û§','Û¨','Û©','Ûª','Û«','Û¬','Û­','Û®','Û¯','ï®§','ï®²','ï®³','ï®´','ï®µ','ï®¶','ï®·','ï®¸','ï®¹','ï®º','ï®»','ï®¼','ï®½','ï®¾','ï®¿','ï¯€','ï¯','ï±','ï±Ÿ','ï± ','ï±¡','ï±¢','ï±£','ï¹°','ï¹±','ï¹²','ï¹³','ï¹´','ï¹¶','ï¹·','ï¹¸','ï¹¹','ï¹º','ï¹»','ï¹¼','ï¹½','ï¹¾','ï¹¿'),
			// collection 2
			array('Ø£','Ø¥','Ù±','Ù²','Ù³','Ùµ','İ³','İ´','ï­','ï­‘','ïºƒ','ïº„','ïº‡','ïºˆ','ïº','ïº','ğº€','ï´¼','ï´½','ğ¸€'),
			// collection 3
			array('Ù®','İ•','İ–','ï­’','ï­“','ï­”','ï­•','ïº','ïº','ïº‘','ïº’','ğ¸','ğ¸œ','ğ¸¡','ğ¹¡','ğ¹¼','ğº','ğº¡'),
			// collection 4
			array('Ú€','İ','İ”','ï­–','ï­—','ï­˜','ï­™','ï­š','ï­›','ï­œ','ï­'),
			// collection 5
			array('Ù¹','Ùº','Ù»','Ù¼','İ“','ï­','ï­Ÿ','ï­ ','ï­¡','ï­¢','ï­£','ï­¤','ï­¥','ï­¦','ï­§','ï­¨','ï­©','ïº•','ïº–','ïº—','ïº˜','ğ¸•','ğ¸µ','ğ¹µ','ğº•','ğºµ'),
			// collection 6
			array('Ù½','Ù¿','İ‘','ïº™','ïºš','ïº›','ïºœ','ğ¸–','ğ¸¶','ğ¹¶','ğº–','ğº¶'),
			// collection 7
			array('Úƒ','Ú„','ï­²','ï­³','ï­´','ï­µ','ï­¶','ï­·','ï­¸','ï­¹','ïº','ïº','ïºŸ','ïº ','ğ¸‚','ğ¸¢','ğ¹‚','ğ¹¢','ğº‚','ğº¢'),
			// collection 8
			array('Ú‡','Ú¿','İ˜','ï­º','ï­»','ï­¼','ï­½','ï­¾','ï­¿','ï®€','ï®','ğ¸ƒ','ğºƒ'),
			// collection 9
			array('Ú','İ®','İ¯','İ²','İ¼','ïº¡','ïº¢','ïº£','ïº¤','ğ¸‡','ğ¸§','ğ¹‡','ğ¹§','ğº‡','ğº§'),
			// collection 10
			array('Ú‚','Ú…','İ—','ïº¥','ïº¦','ïº§','ïº¨','ğ¸—','ğ¸·','ğ¹—','ğ¹·','ğº—','ğº·'),
			// collection 11
			array('Úˆ','Ú‰','ÚŠ','ÚŒ','Ú','Ú','Ú','Ú','İ™','İš','ïº©','ïºª','ğº£','ï®‚','ï®ƒ','ï®ˆ','ï®‰'),
			// collection 12
			array('ï±›','ï±','ïº«','ïº¬','ğ¸˜','ğº˜','ğº¸','ï®„','ï®…','ï®†','ï®‡'),
			// collection 13
			array('Ù«','Ú‘','Ú’','Ú“','Ú”','Ú•','Ú–','İ›','İ¬','ï®Œ','ï®','ï±œ','ïº­','ïº®','ğ¸“','ğº“','ğº³'),
			// collection 14
			array('Ú—','Ú™','İ«','İ±','ïº¯','ïº°','ğ¸†','ğº†','ğº¦'),
			// collection 15
			array('ï®Š','ï®‹','Ú˜'),
			// collection 16
			array('Úš','İ½','İ¾','ïº±','ïº²','ïº³','ïº´','ğ¸','ğ¸®','ğ¹','ğ¹®','ğº','ğº®'),
			// collection 17
			array('Ú›','Ûº','İœ','İ­','İ°','ïºµ','ïº¶','ïº·','ïº¸','ğ¸”','ğ¸´','ğ¹”','ğ¹´','ğº”','ğº´'),
			// collection 18
			array('Ú','ïº¹','ïºº','ïº»','ïº¼','ğ¸‘','ğ¹‘','ğ¸±','ğ¹±','ğº‘','ğº±'),
			// collection 19
			array('Ú','Û»','ïº½','ïº¾','ïº¿','ï»€','ğ¸™','ğ¸¹','ğ¹™','ğ¹¹','ğº™','ğº¹'),
			// collection 20
			array('ï»','ï»‚','ï»ƒ','ï»„','ğ¸ˆ','ğ¹¨','ğºˆ','ğº¨'),
			// collection 21
			array('ÚŸ','ï»…','ï»†','ï»‡','ï»ˆ','ğ¸š','ğ¹º','ğºš','ğºº'),
			// collection 22
			array('Ø','Ú ','ï»‰','ï»Š','ï»‹','ï»Œ','ğ¸','ğ¸¯','ğ¹','ğ¹¯','ğº','ğº¯'),
			// collection 23
			array('Û¼','İ','İ','İŸ','ï»','ï»','ï»','ï»','ğ¸›','ğ¸»','ğ¹›','ğ¹»','ğº›','ğº»'),
			// collection 24
			array('Ø‹','Ú¡','Ú¢','Ú£','Ú¤','Ú¥','Ú¦','İ ','İ¡','ï­ª','ï­«','ï­¬','ï­­','ï­®','ï­¯','ï­°','ï­±','ï»‘','ï»’','ï»“','ï»”','ğ¸','ğ¸','ğ¸°','ğ¹°','ğ¹¾','ğº','ğº°'),
			// collection 25
			array('Ù¯','Ú§','Ú¨','ï»•','ï»–','ï»—','ï»˜','ğ¸’','ğ¸Ÿ','ğ¸²','ğ¹’','ğ¹Ÿ','ğ¹²','ğº’','ğº²','Øˆ'),
			// collection 26
			array('Ø»','Ø¼','Ùƒ','Úª','Ú«','Ú¬','Ú­','Ú®','İ¢','İ£','İ¤','İ¿','ï®','ï®','ï®','ï®‘','ï¯“','ï¯”','ï¯•','ï¯–','ï»™','ï»š','ï»›','ï»œ','ğ¸Š','ğ¸ª','ğ¹ª'),
			// collection 27
			array('Ú°','Ú±','Ú²','Ú³','Ú´','ï®’','ï®“','ï®”','ï®•','ï®–','ï®—','ï®˜','ï®™','ï®š','ï®›','ï®œ','ï®'),
			// collection 28
			array('Úµ','Ú¶','Ú·','Ú¸','İª','ï»','ï»','ï»Ÿ','ï» ','ğ¸‹','ğ¸«','ğ¹‹','ğº‹','ğº«'),
			// collection 29
			array('Û¾','İ¥','İ¦','ï»¡','ï»¢','ï»£','ï»¤','ğ¸Œ','ğ¸¬','ğ¹¬','ğºŒ','ğº¬'),
			// collection 30
			array('Ú¹','Úº','Ú»','Ú¼','Ú½','İ§','İ¨','İ©','ï®','ï®Ÿ','ï® ','ï®¡','ï»¥','ï»¦','ï»§','ï»¨','ğ¸','ğ¸','ğ¸­','ğ¹','ğ¹','ğ¹­','ğº','ğº­'),
			// collection 31
			array('Ø¤','Ù¶','Ù·','Û„','Û…','Û†','Û‡','Ûˆ','Û‰','ÛŠ','Û‹','Û','İ¸','İ¹','ï¯—','ï¯˜','ï¯™','ï¯š','ï¯›','ï¯œ','ï¯','ï¯','ï¯Ÿ','ï¯ ','ï¯¡','ï¯¢','ï¯£','ïº…','ïº†','ï»­','ï»®','ğ¸…','ğº…','ğº¥'),
			// collection 32
			array('Ø©','Ú¾','Û€','Û•','Û¿','ï®¤','ï®¥','ï®¦','ï®©','ï®¨','ï®ª','ï®«','ï®¬','ï®­','ïº“','ïº”','ï»©','ï»ª','ï»«','ï»¬','ğ¸¤','ğ¹¤','ğº„'),
			// collection 33
			array('Ø ','Ø¦','Ø½','Ø¾','Ø¿','Ù‰','ÙŠ','Ù¸','Û','Û','Û','Û‘','Û’','Û“','İµ','İ¶','İ·','İº','İ»','ï®¢','ï®£','ï®®','ï®¯','ï®°','ï®±','ï¯¤','ï¯¥','ï¯¦','ï¯§','ï¯¨','ï¯©','ï¯¼','ï¯½','ï¯¾','ï¯¿','ïº‰','ïºŠ','ïº‹','ïºŒ','ï»¯','ï»°','ï»±','ï»²','ï»³','ï»´','ğ¸‰','ğ¸©','ğ¹‰','ğ¹©','ğº‰','ğº©'),
			// collection 34
			array('Ù´','Û½','ïº€'),
			// collection 35
			array('ï»µ','ï»¶','ï»·','ï»¸','ï»¹','ï»º','ï»»','ï»¼'),
			// collection 36
			array('ï·²','ï·¼','ï·³','ï·´','ï·µ','ï·¶','ï··','ï·¸','ï·¹','ï·º','ï·»')
			);

		$to = array(
			// collection 1
			'',
			// collection 2
			'Ø§',
			// collection 3
			'Ø¨',
			// collection 4
			'Ù¾',
			// collection 5
			'Øª',
			// collection 6
			'Ø«',
			// collection 7
			'Ø¬',
			// collection 8
			'Ú†',
			// collection 9
			'Ø­',
			// collection 10
			'Ø®',
			// collection 11
			'Ø¯',
			// collection 12
			'Ø°',
			// collection 13
			'Ø±',
			// collection 14
			'Ø²',
			// collection 15
			'Ú˜',
			// collection 16
			'Ø³',
			// collection 17
			'Ø´',
			// collection 18
			'Øµ',
			// collection 19
			'Ø¶',
			// collection 20
			'Ø·',
			// collection 21
			'Ø¸',
			// collection 22
			'Ø¹',
			// collection 23
			'Øº',
			// collection 24
			'Ù',
			// collection 25
			'Ù‚',
			// collection 26
			'Ú©',
			// collection 27
			'Ú¯',
			// collection 28
			'Ù„',
			// collection 29
			'Ù…',
			// collection 30
			'Ù†',
			// collection 31
			'Ùˆ',
			// collection 32
			'Ù‡',
			// collection 33
			'ÛŒ',
			// collection 34
			'Ø¡',
			// collection 35
			'Ù„Ø§',
			// collection 36
			array('Ø§Ù„Ù„Ù‡','Ø±ÛŒØ§Ù„','Ø§Ú©Ø¨Ø±','Ù…Ø­Ù…Ø¯','ØµÙ„Ø¹Ù…','Ø±Ø³ÙˆÙ„','Ø¹Ù„ÛŒÙ‡','ÙˆØ³Ù„Ù…','ØµÙ„ÛŒ','ØµÙ„ÛŒ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÛŒÙ‡ ÙˆØ³Ù„Ù…','Ø¬Ù„ Ø¬Ù„Ø§Ù„Ù‡')
			);


		for ($i=0; $i < count($from); $i++) { 
			$text = str_replace($from[$i],$to[$i],$text);
		}

		preg_match('/([!\w\s{*}]+)/ui',$text,$matches);

		if (! is_array($matches) || count($matches) < 1) {
			return null;
		}

		return (string) $matches[0];
	}

	public function standard($string)
	{
		$string = $this->numbers_to_english($string);
		$string = $this->text($string);

		return $string;
	}

}

/* End of file Persian.php */
/* Location: /Codeigniter-Persian/Persian.php */
